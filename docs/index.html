<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ojasv Issar">
<meta name="dcterms.date" content="2026-01-17">

<title>AI in the Fight Against Climate Change: Predicting Environmental Trends Before It’s Too Late – Climate AI Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#the-climate-data-revolution" id="toc-the-climate-data-revolution" class="nav-link" data-scroll-target="#the-climate-data-revolution">The Climate Data Revolution</a></li>
  <li><a href="#key-machine-learning-applications-in-climate-monitoring" id="toc-key-machine-learning-applications-in-climate-monitoring" class="nav-link" data-scroll-target="#key-machine-learning-applications-in-climate-monitoring">Key Machine Learning Applications in Climate Monitoring</a></li>
  <li><a href="#from-prediction-to-action-practical-implementation-for-municipalities" id="toc-from-prediction-to-action-practical-implementation-for-municipalities" class="nav-link" data-scroll-target="#from-prediction-to-action-practical-implementation-for-municipalities">From Prediction to Action: Practical Implementation for Municipalities</a></li>
  <li><a href="#limitations-and-ethical-considerations" id="toc-limitations-and-ethical-considerations" class="nav-link" data-scroll-target="#limitations-and-ethical-considerations">Limitations and Ethical Considerations</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references-and-further-reading" id="toc-references-and-further-reading" class="nav-link" data-scroll-target="#references-and-further-reading">References and Further Reading</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AI in the Fight Against Climate Change: Predicting Environmental Trends Before It’s Too Late</h1>
  <div class="quarto-categories">
    <div class="quarto-category">climate</div>
    <div class="quarto-category">AI</div>
    <div class="quarto-category">machine learning</div>
    <div class="quarto-category">environmental science</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ojasv Issar </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 17, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In October 2024, Hurricane Helene devastated communities across the southeastern United States, causing over $50 billion in damages and claiming hundreds of lives. Just weeks later, catastrophic flooding in Spain killed more than 200 people. These events underscore a sobering reality: climate change is accelerating, and we need better tools to predict, monitor, and respond to environmental crises before they become catastrophes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/helene_geo.jpg" class="img-fluid figure-img"></p>
<figcaption>Hurricane Helene</figcaption>
</figure>
</div>
<p><strong>Figure 1:</strong> Hurricane Helene - Geographical View</p>
<p>Every day, satellites, weather stations, ocean buoys, and environmental sensors generate terabytes of data about our planet’s health. Yet, this wealth of information often overwhelms our capacity to analyze it effectively using traditional methods. This is where artificial intelligence and machine learning step in, transforming raw environmental data into actionable insights that can guide policy decisions and save lives.</p>
<p>In this post, we’ll explore how machine learning is revolutionizing climate monitoring, examine real-world applications that are making a difference today, and discuss what municipal governments and policy makers need to know about implementing these technologies responsibly.</p>
</section>
<section id="the-climate-data-revolution" class="level2">
<h2 class="anchored" data-anchor-id="the-climate-data-revolution">The Climate Data Revolution</h2>
<section id="an-unprecedented-volume-of-information" class="level3">
<h3 class="anchored" data-anchor-id="an-unprecedented-volume-of-information">An Unprecedented Volume of Information</h3>
<p>Modern environmental monitoring generates data at a staggering scale. NASA’s Landsat program alone has collected over 9 million satellite images since 1972. The European Space Agency’s Copernicus program adds thousands of new high-resolution images daily. Ground-based sensor networks, from air quality monitors to ocean temperature buoys, contribute millions of additional data points every hour.</p>
<p>This data comes in diverse formats: multispectral satellite imagery tracking vegetation health, LIDAR measurements revealing forest structure, weather station readings monitoring temperature and precipitation, and social media posts documenting local environmental conditions. The variety and volume of this information makes it nearly impossible for humans to analyze manually.</p>
</section>
<section id="why-traditional-methods-fall-short" class="level3">
<h3 class="anchored" data-anchor-id="why-traditional-methods-fall-short">Why Traditional Methods Fall Short</h3>
<p>Conventional environmental monitoring relies on statistical models and human expert analysis. While these approaches have served us well, they struggle with the complexity and scale of modern climate data. A human analyst might examine dozens of satellite images per day; a machine learning model can process thousands per hour, detecting subtle patterns invisible to the naked eye.</p>
<p>Consider the Amazon rainforest, which spans over 5.5 million square kilometers. Monitoring deforestation across this vast area through manual image analysis would require an army of analysts working around the clock. Machine learning algorithms can scan the entire region continuously, flagging areas of concern for immediate investigation.</p>
</section>
</section>
<section id="key-machine-learning-applications-in-climate-monitoring" class="level2">
<h2 class="anchored" data-anchor-id="key-machine-learning-applications-in-climate-monitoring">Key Machine Learning Applications in Climate Monitoring</h2>
<section id="satellite-image-analysis-for-land-use-changes" class="level3">
<h3 class="anchored" data-anchor-id="satellite-image-analysis-for-land-use-changes">Satellite Image Analysis for Land Use Changes</h3>
<p>One of the most impactful applications of AI in environmental monitoring is automated analysis of satellite imagery. Convolutional Neural Networks (CNNs), the same technology that powers facial recognition in smartphones, can be trained to identify deforestation, urban expansion, agricultural changes, and other land use patterns with remarkable accuracy.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/sat_img_analysis.png" class="img-fluid figure-img"></p>
<figcaption>Satellite Image Analysis for Land Use Changes</figcaption>
</figure>
</div>
<p><strong>Figure 2:</strong> Land use classification maps</p>
<p><strong>Case Study: Global Forest Watch</strong></p>
<p>Global Forest Watch, a partnership between the World Resources Institute and Google, uses machine learning to monitor forests worldwide in near-real-time. Their GLAD (Global Land Analysis and Discovery) alert system processes Landsat satellite data daily, detecting tree cover loss within days of occurrence. Since its launch, the system has helped governments and conservation organizations respond to illegal logging activities before significant damage occurs.</p>
<p>The technology works by training deep learning models on millions of labeled satellite images, teaching the algorithm to distinguish between healthy forest, degraded forest, and cleared land. The system achieved over 90% accuracy in detecting deforestation events, far surpassing what human analysts could accomplish at scale.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simplified example of forest change detection workflow</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: Training a basic model for land use classification</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Features might include vegetation indices, elevation, temperature</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> np.array([...])  <span class="co"># Satellite image features</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>y_train <span class="op">=</span> np.array([...])  <span class="co"># Labels: forest, cleared, urban, etc.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Train classifier</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> RandomForestClassifier(n_estimators<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>model.fit(X_train, y_train)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict on new satellite imagery</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>new_image_features <span class="op">=</span> np.array([...])</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>predictions <span class="op">=</span> model.predict(new_image_features)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="climate-pattern-prediction-and-extreme-weather-forecasting" class="level3">
<h3 class="anchored" data-anchor-id="climate-pattern-prediction-and-extreme-weather-forecasting">Climate Pattern Prediction and Extreme Weather Forecasting</h3>
<p>Machine learning models excel at identifying complex patterns in historical climate data to predict future conditions. Deep learning approaches like Long Short-Term Memory (LSTM) networks can analyze decades of temperature, pressure, humidity, and wind data to forecast weather patterns weeks or even months in advance.</p>
<p><strong>Extreme Weather Early Warning Systems</strong></p>
<p>Traditional weather forecasting struggles to predict extreme events like heat waves, droughts, and floods with sufficient lead time for effective preparation. Machine learning models trained on historical extreme weather events can identify the subtle precursor patterns that signal an approaching crisis.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Weather-Prediction-Hurricane.gif" class="img-fluid figure-img"></p>
<figcaption>Nvidia’s</figcaption>
</figure>
</div>
<p><strong>Figure 3:</strong> AI Forecasts Extreme Weather (Nvidia’s Initiative)</p>
<p>Google’s flood forecasting initiative in India and Bangladesh demonstrates this potential. Their machine learning models predict riverine floods up to seven days in advance, providing crucial time for evacuations and resource mobilization. The system combines hydrological models with AI to achieve prediction accuracy rates exceeding 90%, covering areas home to over 200 million people. <img src="Images/Floods_forecast.jpg" class="img-fluid" alt="Google’s Flood Forecasting Initiative"></p>
<p><strong>Figure 4:</strong> Google’s Flood Forecast Model</p>
</section>
<section id="air-quality-monitoring-and-prediction" class="level3">
<h3 class="anchored" data-anchor-id="air-quality-monitoring-and-prediction">Air Quality Monitoring and Prediction</h3>
<p>Urban air pollution causes an estimated 7 million premature deaths annually worldwide. Machine learning enables more accurate, granular air quality monitoring and prediction than traditional methods.</p>
<p><strong>Real-Time Pollution Tracking</strong></p>
<p>Cities like Beijing and Los Angeles deploy networks of low-cost air quality sensors that generate continuous data streams. Machine learning models process this data alongside weather patterns, traffic information, and industrial activity to create high-resolution air quality maps and predict pollution levels hours or days in advance.</p>
<p>These predictions enable municipalities to issue timely public health warnings, implement temporary traffic restrictions, or adjust industrial operations to prevent dangerous pollution episodes. The technology is particularly valuable for identifying pollution hotspots in disadvantaged communities that lack traditional monitoring infrastructure.</p>
</section>
</section>
<section id="from-prediction-to-action-practical-implementation-for-municipalities" class="level2">
<h2 class="anchored" data-anchor-id="from-prediction-to-action-practical-implementation-for-municipalities">From Prediction to Action: Practical Implementation for Municipalities</h2>
<section id="getting-started-with-climate-ai" class="level3">
<h3 class="anchored" data-anchor-id="getting-started-with-climate-ai">Getting Started with Climate AI</h3>
<p>For municipal governments and policy makers, the prospect of implementing AI-powered climate monitoring might seem daunting. However, several factors make this technology increasingly accessible:</p>
<p><strong>Available Platforms and Tools</strong></p>
<p>Many powerful climate AI tools are freely available or low-cost. Google Earth Engine provides free access to petabytes of satellite imagery and cloud computing resources for environmental analysis. Organizations like the World Resources Institute offer open-source tools for forest monitoring, water risk assessment, and climate vulnerability mapping.</p>
<p>Cities don’t need to build AI systems from scratch. Numerous vendors and non-profits offer turnkey solutions for specific applications like air quality prediction, flood risk assessment, or urban heat island monitoring.</p>
<p><strong>Cost-Benefit Considerations</strong></p>
<p>While implementing AI systems requires upfront investment in data infrastructure and technical capacity, the returns can be substantial. Early warning systems for floods or heat waves can prevent millions in damages and save lives. Air quality predictions enable targeted interventions that reduce healthcare costs. Forest monitoring helps preserve ecosystem services worth billions annually.</p>
<p>A pilot project might start with a single application, such as monitoring urban tree cover or predicting air quality during wildfire season. Success in one area builds institutional capacity and demonstrates value for broader implementation.</p>
<p><strong>Building Internal Capacity</strong></p>
<p>Municipalities should invest in training existing staff to understand and use AI tools, rather than relying entirely on external consultants. Partnerships with local universities can provide technical expertise while offering students real-world learning opportunities.</p>
</section>
</section>
<section id="limitations-and-ethical-considerations" class="level2">
<h2 class="anchored" data-anchor-id="limitations-and-ethical-considerations">Limitations and Ethical Considerations</h2>
<section id="data-quality-and-bias" class="level3">
<h3 class="anchored" data-anchor-id="data-quality-and-bias">Data Quality and Bias</h3>
<p>Machine learning models are only as good as the data they’re trained on. Historical environmental data often has gaps, particularly in developing regions or remote areas. Models trained primarily on data from wealthy countries may perform poorly when applied elsewhere.</p>
<p>Sensor networks can have systematic biases. Air quality monitors are often concentrated in affluent neighborhoods, leaving pollution in disadvantaged communities unmeasured. Machine learning models trained on such biased data may perpetuate these inequities.</p>
</section>
<section id="the-black-box-problem" class="level3">
<h3 class="anchored" data-anchor-id="the-black-box-problem">The Black Box Problem</h3>
<p>Many powerful machine learning models, particularly deep neural networks, function as “black boxes”—their predictions are accurate, but the reasoning behind them is opaque. For policy makers who must justify decisions to constituents, this lack of interpretability poses challenges.</p>
<p>When an AI model predicts a flood or recommends a policy intervention, stakeholders deserve to understand why. Recent advances in “explainable AI” help address this concern, but the field is still developing.</p>
</section>
<section id="equity-in-climate-ai-deployment" class="level3">
<h3 class="anchored" data-anchor-id="equity-in-climate-ai-deployment">Equity in Climate AI Deployment</h3>
<p>Climate change disproportionately affects vulnerable populations, yet AI climate solutions are often deployed first in wealthy regions with existing technical infrastructure. There’s a risk that AI could widen the climate adaptation gap rather than narrow it.</p>
<p>Policy makers must ensure that AI-powered environmental monitoring serves all communities equitably. This means investing in data collection in underserved areas, involving affected communities in system design, and ensuring that AI-generated insights lead to action that benefits those most at risk.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Artificial intelligence and machine learning are transforming our ability to monitor environmental changes and predict climate impacts. From satellite systems that detect deforestation in near-real-time to models that forecast floods days in advance, these technologies are already making a tangible difference in how we understand and respond to environmental challenges.</p>
<p>For policy makers and municipal governments, the message is clear: climate AI is not science fiction—it’s an accessible, practical tool available today. While important limitations and ethical considerations remain, the potential benefits for evidence-based decision making and climate resilience are too significant to ignore.</p>
<p>The question is no longer whether AI can help us address climate change, but how quickly we can deploy these tools responsibly and equitably. The stakes—measured in lives saved, ecosystems preserved, and communities protected—could not be higher.</p>
<section id="next-steps" class="level3">
<h3 class="anchored" data-anchor-id="next-steps">Next Steps</h3>
<p>If you’re interested in exploring how AI could support environmental monitoring in your community, consider:</p>
<ul>
<li>Exploring free platforms like Google Earth Engine or Microsoft’s Planetary Computer</li>
<li>Connecting with local universities or research institutions with relevant expertise</li>
<li>Starting with a focused pilot project addressing a specific local environmental challenge</li>
<li>Joining networks like the C40 Cities Climate Leadership Group to learn from peers</li>
</ul>
<p>The future of climate action will be powered by data, and machine learning is the key to unlocking its potential.</p>
<hr>
</section>
</section>
<section id="references-and-further-reading" class="level2">
<h2 class="anchored" data-anchor-id="references-and-further-reading">References and Further Reading</h2>
<ol type="1">
<li><p>Appalachian State University. (2025). “Hurricane Helene Impact Report.” Retrieved from https://today.appstate.edu/2025/09/09/helene</p></li>
<li><p>Nature Scientific Reports. (2019). “Machine Learning Applications in Climate Science.” <em>Nature</em>, 598. https://www.nature.com/articles/s41598-019-48586-3</p></li>
<li><p>NVIDIA Developer Blog. “AI Accurately Forecasts Extreme Weather Up to 23 Days Ahead.” https://developer.nvidia.com/blog/ai-accurately-forecasts-extreme-weather-up-to-23-days-ahead/</p></li>
<li><p>Google Research. “Flood Forecasting Initiative.” https://sites.research.google/gr/floodforecasting/</p></li>
<li><p>Global Forest Watch. “GLAD Alert System.” https://www.globalforestwatch.org/</p></li>
<li><p>Google Flood Hub. “Real-time Flood Forecasting.” https://sites.research.google/floods/</p></li>
<li><p>NASA Earth Data. “Environmental Data Repository.” https://earthdata.nasa.gov/</p></li>
<li><p>World Resources Institute. “Climate Tools and Resources.” https://www.wri.org/</p></li>
<li><p>Rolnick, D., et al.&nbsp;(2019). “Tackling Climate Change with Machine Learning.” <em>arXiv:1906.05433</em>. https://arxiv.org/abs/1906.05433</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>